(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.fdb1cd95.png"},27:function(e,t,a){e.exports=a.p+"static/media/shop.2881be22.png"},29:function(e,t,a){e.exports=a(49)},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=(a(34),a(15)),s=a(17),l=a(14),u=a(2),d=a(3),m=a(1),h=a(5),p=a(4),b=a(11),f=a(6);var v=function(e){var t=e.product,a=e.clickToAdd;return r.a.createElement("div",{className:"card card-custom mx-2 mb-3",style:{width:"18rem"}},r.a.createElement("div",{className:"card-body","data-testid":"product",key:t.id},r.a.createElement("img",{className:"card-img-top",src:t.thumbnail,alt:t.title}),r.a.createElement("div",{class:"card-body"},r.a.createElement("h2",{className:"card-title"},"R$ ",t.price),r.a.createElement("h6",{className:"card-subtitle"},t.title),t.shipping.free_shipping&&r.a.createElement("p",{className:"card-text","data-testid":"free-shipping"},t.shipping.free_shipping),r.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{class:"btn btn-primary",type:"button","data-testid":"product-add-to-cart",onClick:function(){return a(t)}},"Add to Cart"),r.a.createElement(b.b,{class:"btn btn-primary","data-testid":"product-detail-link",to:{pathname:"./".concat(t.id),test:{product:t}}},"Detalhe")))))},g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).clickToAdd=n.clickToAdd.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"clickToAdd",value:function(e){this.props.onClickAdd(e),this.props.onclickIncrement()}},{key:"render",value:function(){var e=this,t=this.props.products;return""===t?"Carregando Produto liste...":r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5 justify-content-center"},t.results.map((function(t){return r.a.createElement(v,{product:t,clickToAdd:e.clickToAdd})})))))}}]),a}(r.a.Component),E=(a(40),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onValueChange=e.onValueChange.bind(Object(m.a)(e)),e}return Object(d.a)(a,[{key:"onValueChange",value:function(e){this.props.onChangeOption(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.selectedCategory;return""===a?"Carregando...":r.a.createElement("div",null,r.a.createElement("h4",{className:"categories-title"}," Categories"),r.a.createElement("div",null,a.map((function(t){return r.a.createElement("div",{className:"form-check",key:t.name},r.a.createElement("label",{class:"form-check-label"},r.a.createElement("input",{class:"form-check-input form-check-input-categories","data-testid":"category",type:"radio",value:t.id,checked:n===t.id,onChange:e.onValueChange}),r.a.createElement("span",{className:"categories-font"},t.name)))}))))}}]),a}(n.Component)),C=a(26),y=a.n(C),k=a(27),N=a.n(k),j=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchText,a=e.textChange,n=e.onClickSearch;return r.a.createElement("div",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-15"},r.a.createElement("div",{class:"input-group"},r.a.createElement("input",{"data-testid":"query-input",type:"text",maxlength:"120",class:"form-control",placeholder:"Search...",name:"searchText",value:t,onChange:a}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("button",{type:"button",class:"btn btn-secondary",onClick:n,"data-testid":"query-button"},r.a.createElement("i",{className:"fa fa-search"})))))))}}]),a}(n.Component),O=(a(41),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.count,e.searchText);return r.a.createElement("div",{className:"navigation container-fluid py-3"},r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement(b.b,{className:"col align-self-center",to:"/"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:y.a,alt:"logo"}))),r.a.createElement(j,{className:"col",searchText:t,textChange:this.props.textChange,onClickSearch:this.props.onClickSearch}),r.a.createElement(b.b,{className:"shoppingCartLink col align-self-center","data-testid":"shopping-cart-button",to:"/ShoppingCart"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:N.a,alt:"shoppingCart"})))))}}]),a}(r.a.Component)),P=(a(42),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={cartProducts:[],count:0},n.addProductToCart=n.addProductToCart.bind(Object(m.a)(n)),n.removeProductToCart=n.removeProductToCart.bind(Object(m.a)(n)),n.cartRender=n.cartRender.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"addProductToCart",value:function(e){this.props.onClickAdd(e),this.props.onclickIncrement()}},{key:"removeProductToCart",value:function(e){this.props.onClickRemove(e),this.props.onclickDecrement()}},{key:"cartRender",value:function(){var e=this,t=this.props.cartProducts;return r.a.createElement("div",{className:"container bg-white "},t.map((function(t){return r.a.createElement("div",{className:"row align-items-center justify-content-end rounded border-bottom m-3","data-testid":"shopping-cart-product-name",key:t.id},r.a.createElement("img",{className:"img-responsive",src:t.selectedProduct.thumbnail,alt:t.title}),r.a.createElement("h5",{className:"col m-2"},t.selectedProduct.title),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group mb-3 justify-content-end"},r.a.createElement("div",{class:"btn-group",role:"group","aria-label":"detail-buttons"},r.a.createElement("button",{className:"btn btn btn-outline-primary",type:"button","data-testid":"product-decrease-quantity",onClick:function(){return e.removeProductToCart(t)}},"-"),r.a.createElement("button",{class:"btn btn-outline-primary",disabled:!0,"data-testid":"shopping-cart-product-quantity"},t.quantity),r.a.createElement("button",{className:"btn btn btn-outline-primary",type:"button","data-testid":"product-increase-quantity",onClick:function(){return e.addProductToCart(t)}},"+")))))})))}},{key:"render",value:function(){return 0===this.props.count?r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"):r.a.createElement("div",{className:"container-fluid vh-100 bg-light p-4 m-0"},r.a.createElement("div",{className:"container bg-white "},r.a.createElement(this.cartRender,null),r.a.createElement(b.b,{"data-testid":"checkout-products",to:"/checkout"},r.a.createElement("button",{className:"btn btn-primary m-4",type:"button"},"Checkout"))))}}]),a}(n.Component)),x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={cartProducts:[{selectedProduct:{installments:{amount:0}}}]},n.totalPriceSum=n.totalPriceSum.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"totalPriceSum",value:function(){var e=0,t=this.props.cartProducts;return t.length>0&&t.map((function(t){return e+=t.selectedProduct.price*t.quantity})),e}},{key:"render",value:function(){var e=this.props.cartProducts;return this.totalPriceSum(),r.a.createElement("div",{className:"container"},e.map((function(e){return r.a.createElement("div",{className:"row align-items-center my-3",key:e.id},r.a.createElement("img",{className:"img-fluid rounded-circle pr-4",src:e.selectedProduct.thumbnail,alt:e.title}),r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"row small mb-0"},e.selectedProduct.title),r.a.createElement("p",{className:"row small text-center font-weight-light mb-0"},"quantity: ",e.quantity),r.a.createElement("p",{className:"row small text-center font-weight-light mb-0"},"Price: ",e.selectedProduct.price," ",e.selectedProduct.currency_id)))})),r.a.createElement("div",{className:"row border-top "},r.a.createElement("h5",{className:"col p-3 font-weight-light"},"Total "),r.a.createElement("h5",{className:"col text-nowrap p-3 font-weight-light"},"R$ ",this.totalPriceSum().toFixed(2))))}}]),a}(r.a.Component),T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.nameFormRender=n.nameFormRender.bind(Object(m.a)(n)),n.phoneFormRender=n.phoneFormRender.bind(Object(m.a)(n)),n.CEPFormRender=n.CEPFormRender.bind(Object(m.a)(n)),n.adressFormRender=n.adressFormRender.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(l.a)({},n,a))}},{key:"nameFormRender",value:function(){return r.a.createElement("input",{name:"name","data-testid":"checkout-fullname",type:"text",value:this.state.name,onChange:this.handleChange,className:"form-control",placeholder:"First name"})}},{key:"phoneFormRender",value:function(){return r.a.createElement("input",{className:"form-control",name:"phone","data-testid":"checkout-phone",type:"text",value:this.state.phone,onChange:this.handleChange,placeholder:"Phone"})}},{key:"CEPFormRender",value:function(){return r.a.createElement("input",{className:"form-control",name:"CEP","data-testid":"checkout-cep",type:"text",value:this.state.CEP,onChange:this.handleChange,placeholder:"CEP"})}},{key:"adressFormRender",value:function(){return r.a.createElement("textarea",{className:"form-control",name:"adress","data-testid":"checkout-address",type:"text area",value:this.state.adress,onChange:this.handleChange,placeholder:"Address"})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(this.nameFormRender,null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"email","data-testid":"checkout-email",type:"text",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"cpf","data-testid":"checkout-cpf",type:"text",value:this.state.cpf,onChange:this.handleChange,placeholder:"CPF"})),r.a.createElement("div",{className:"form-group"},r.a.createElement(this.phoneFormRender,null)),r.a.createElement("div",{className:"form-group"},r.a.createElement(this.CEPFormRender,null)),r.a.createElement("div",{className:"form-group"},r.a.createElement(this.adressFormRender,null)),r.a.createElement("div",{className:"form-inline"},r.a.createElement("div",{className:"form-check mr-3"},r.a.createElement("input",{className:"form-check-input position-static",type:"radio",name:"blankRadio",id:"visa",value:"visa","aria-label":"..."}),r.a.createElement("i",{className:"fa fa-cc-visa fa-3x pl-2",style:{color:"#007bff"}})),r.a.createElement("div",{className:"form-check mr-3"},r.a.createElement("input",{className:"form-check-input position-static",type:"radio",name:"blankRadio",id:"amex",value:"amex","aria-label":"..."}),r.a.createElement("i",{className:"fa fa-cc-amex fa-3x pl-2",style:{color:"#007bff"}})),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input position-static",type:"radio",name:"blankRadio",id:"mastercard",value:"mastercard","aria-label":"..."}),r.a.createElement("i",{className:"fa fa-cc-mastercard fa-3x pl-2",style:{color:"#007bff"}}))),r.a.createElement("button",{type:"submit",value:"Send",className:"btn btn-primary mt-4"},"Send"))}}]),a}(r.a.Component),S=(a(43),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.cartProducts;return r.a.createElement("div",{className:"container-fluid vh-100 bg-light pr-0"},r.a.createElement("div",{className:"container-fluid h-100 bg-light d-none d-sm-block"},r.a.createElement("div",{className:"row justify-content-center h-100"},r.a.createElement("div",{className:"col-8 pl-5 "},r.a.createElement("p",null,"Checkout"),r.a.createElement(T,null)),r.a.createElement("div",{className:"col-4 checkoutProdListContainer h-100 "},r.a.createElement(x,{cartProducts:e})))))}}]),a}(r.a.Component)),w=a(28),R=a.n(w),A=(a(44),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={textEmail:"",rating:0,textArea:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.textEmail,a=e.textArea,n=e.rating;return r.a.createElement("section",{className:"rate-section"},r.a.createElement("h3",{className:"rate-title"},"Avalia\xe7\xf5es"),r.a.createElement("form",{className:"rate-form"},r.a.createElement("div",{className:"first-line"},r.a.createElement("input",{className:"rate-email",name:"email","data-testid":"product-detail-evaluation",type:"email",placeholder:"Email",defaultValue:t}),r.a.createElement(R.a,{className:"react-stars",count:5,size:28,color:"#ffd700",defaultValue:n})),r.a.createElement("div",{className:"sec-line"},r.a.createElement("textarea",{className:"rate-area",type:"text",placeholder:"Mensagem(opcional)",defaultValue:a}),r.a.createElement("button",{className:" btn btn-primary m-4 rate-button"},"Avaliar"))))}}]),a}(n.Component)),F=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addProductToCart=n.addProductToCart.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"addProductToCart",value:function(e){this.props.onClickAdd(e),this.props.onclickIncrement()}},{key:"render",value:function(){var e=this;if(0===this.props.products.length)return r.a.createElement("p",null,"No Details");var t=this.props.product,a=t.title,n=t.price,c=t.thumbnail;t.attributes;return r.a.createElement("div",{className:"container-fluid vh-100 bg-light pr-0"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col justify-content-center text-center pt-5"},r.a.createElement("h2",{"data-testid":"product-detail-name"},a),r.a.createElement("img",{className:"m-3",src:c,alt:a}),r.a.createElement("h2",{className:"mx-auto"},"R$",n),r.a.createElement("button",{className:"btn btn-primary m-4",type:"button","data-testid":"product-detail-add-to-cart",onClick:function(){return e.addProductToCart(e.props.product)}},"Add this item to Cart")),r.a.createElement(A,null)))}}]),a}(n.Component),q=a(16),I=a.n(q),M=a(21);function V(){return(V=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories").then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return D.apply(this,arguments)}function D(){return(D=Object(M.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a),e.next=3,fetch(n).then((function(e){return e.json()}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={searchText:"",products:"",categories:"",selectedCategory:"",cartProducts:[],count:0,categoriesToggle:!1},n.textChange=n.textChange.bind(Object(m.a)(n)),n.handleClick=n.handleClick.bind(Object(m.a)(n)),n.onSelectedOptionChange=n.onSelectedOptionChange.bind(Object(m.a)(n)),n.addProductToCart=n.addProductToCart.bind(Object(m.a)(n)),n.removeProductToCart=n.removeProductToCart.bind(Object(m.a)(n)),n.increment=n.increment.bind(Object(m.a)(n)),n.decrement=n.decrement.bind(Object(m.a)(n)),n.toggleCategories=n.toggleCategories.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return V.apply(this,arguments)})().then((function(t){return e.setState({categories:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.selectedCategory,c=n.searchText;t.selectedCategory!==this.state.selectedCategory&&B(r,c).then((function(e){return a.setState({products:e})}))}},{key:"toggleCategories",value:function(){this.setState({categoriesToggle:!this.state.categoriesToggle}),console.log(this.state.categoriesToggle)}},{key:"onSelectedOptionChange",value:function(e){this.setState({selectedCategory:e.target.value})}},{key:"decrement",value:function(){this.setState({count:this.state.count-1})}},{key:"increment",value:function(){this.setState({count:this.state.count+1})}},{key:"textChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(l.a)({},a,n))}},{key:"handleClick",value:function(){var e=this;B(this.state.selectedCategory,this.state.searchText).then((function(t){return e.setState({products:t})}))}},{key:"removeProductToCart",value:function(e){var t=this,a=!1;this.state.cartProducts.map((function(n,r){if(n.id===e.id)if(e.quantity>1){var c=Object(s.a)(t.state.cartProducts),o=Object(i.a)(Object(i.a)({},c[r]),{},{quantity:c[r].quantity-1});c[r]=o,t.setState({cartProducts:c})}else a=r;return 2})),!0===a&&this.state.cartProducts.splice(a,1)}},{key:"addProductToCart",value:function(e){var t=this,a=!1;if(this.state.cartProducts.map((function(n,r){var c=n.selectedProduct.sold_quantity===n.quantity;if(n.id===e.id&&c&&(a=!0),n.id===e.id){a=!0;var o=Object(s.a)(t.state.cartProducts),l=Object(i.a)(Object(i.a)({},o[r]),{},{quantity:o[r].quantity+1});o[r]=l,t.setState({cartProducts:o})}return a})),!1===a){var n={id:e.id,quantity:1,selectedProduct:e};this.setState((function(e){return{cartProducts:[].concat(Object(s.a)(e.cartProducts),[n])}}))}}},{key:"renderCart",value:function(){var e=this.state,t=e.cartProducts,a=e.count,n=Object.assign({},this.props);return r.a.createElement(P,Object.assign({},n,{cartProducts:t,count:a,onClickAdd:this.addProductToCart,onClickRemove:this.removeProductToCart,onclickIncrement:this.increment,onclickDecrement:this.decrement}))}},{key:"renderMainContent",value:function(){var e=this,t=this.state,a=t.selectedCategory,n=t.products,c=t.categories;return r.a.createElement("div",{className:"maincontent"},r.a.createElement("div",{className:"container-fluid bg-light d-bloc d-sm-none"},r.a.createElement("div",{className:"col "},r.a.createElement("button",{class:"btn btn-primary btn-block",type:"button",onClick:function(){return e.toggleCategories()}},"Categories"),this.state.categoriesToggle&&r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(E,{selectedCategory:a,categories:c,onChangeOption:this.onSelectedOptionChange})),r.a.createElement("div",{className:"row"},r.a.createElement(g,{products:n,onClickAdd:this.addProductToCart,onclickIncrement:this.increment})))),r.a.createElement("div",{className:"container-fluid bg-light d-none d-sm-block"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(E,{selectedCategory:a,categories:c,onChangeOption:this.onSelectedOptionChange})),r.a.createElement("div",{className:"col-10"},r.a.createElement(g,{products:n,onClickAdd:this.addProductToCart,onclickIncrement:this.increment})))))}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.cartProducts,c=t.count,o=t.searchText;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(O,{count:c,searchText:o,textChange:this.textChange,onClickSearch:this.handleClick}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/ShoppingCart",render:function(t){return e.renderCart(t)}}),r.a.createElement(f.a,{path:"/checkout",render:function(e){return r.a.createElement(S,Object.assign({},e,{cartProducts:n}))}}),r.a.createElement(f.a,{exact:!0,path:"/:id",render:function(t){return r.a.createElement(F,{id:t.match.params.id,product:t.location.test.product,products:a,onClickAdd:e.addProductToCart,onclickIncrement:e.increment})}}),r.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return e.renderMainContent(t)}}))))}}]),a}(n.Component);var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(46),a(47),a(48);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.a06d2609.chunk.js.map